!function(){function n(t,e){for(;;){if(!(t instanceof Array))return i(t,e);if("def"==t[0])return e[t[1]]=n(t[2],e);if("fn"==t[0]){let f=function(...f){return n(t[2],i(t[1],e,f))};return f.A=[t[2],e,t[1]],f}if("let"==t[0]){e=Object.create(e);for(let i in t[1])i%2&&(e[t[1][i-1]]=n(t[1][i],e));t=t[2]}else if("do"==t[0]){let n=i(t.slice(1,t.length-1),e);t=t[t.length-1]}else if("if"==t[0])t=n(t[1],e)?t[2]:t[3];else{let n=i(t,e),f=n[0];if(!f.A)return f(...n.slice(1));t=f.A[0],e=i(f.A[2],f.A[1],n.slice(1))}}}let i=function(i,t,e){return e?(t=Object.create(t),i.some((n,f)=>"&"==n?t[i[f+1]]=e.slice(f):(t[n]=e[f],0)),t):i instanceof Array?i.map((...i)=>n(i[0],t)):typeof ""==typeof i?i in t?t[i]:null[i]:i},t=Object.assign(this,{"=":(...n)=>n[0]===n[1],"<":(...n)=>n[0]<n[1],"+":(...n)=>n[0]+n[1],"-":(...n)=>n[0]-n[1],"*":(...n)=>n[0]*n[1],"/":(...n)=>n[0]/n[1],list:(...n)=>n,map:(...n)=>n[1].map(i=>n[0](i)),read:(...n)=>JSON.parse(n[0]),ARGS:process.argv.slice(3)});require("repl").start({eval:(...i)=>i[3](0,n(JSON.parse(i[0]),t)),writer:JSON.stringify,terminal:0})}()
